### Что такое SSH и что должен знать сисадмин

**SSH (Secure Shell)** — это не просто программа, а сетевой **протокол** для безопасного удаленного управления операционной системой и туннелирования TCP-соединений.

**Почему в основном подключаются через SSH?**

1. **Безопасность (Главная причина):** Весь трафик (логины, пароли, команды) между клиентом и сервером шифруется. Это защищает от перехвата данных (сниффинга) в сети.

2. **Широкая поддержка:** SSH-сервер есть по умолчанию практически на каждом Linux- и Unix-сервере. Это стандарт де-факто для удаленного администрирования.

3. **Надежность:** Протокол стабилен и эффективно работает даже на медленных и нестабильных каналах связи.

4. **Мультизадачность:** Позволяет не только выполнять команды, но и пробрасывать порты (туннелирование), передавать файлы (с помощью `scp` или `sftp`) и запускать графические приложения с перенаправлением X11.

---
#### Что должен знать системный администратор про SSH?

1. **Базовое подключение:**

    - Синтаксис команды: `ssh [опции] пользователь@хост`
    
    - Умение работать с паролями.

2. **Аутентификация по ключам (Обязательно к изучению!):**

    - **Что это:** Вместо пароля используется пара криптографических ключей (приватный и публичный). Приватный ключ хранится у вас на машине, публичный — на сервере.
    
    - **Зачем:** Это **значительно безопаснее** паролей (устойчиво к брут-форсу). Позволяет автоматизировать подключения (например, в скриптах без ввода пароля).
    
    - **Как:** Уметь генерировать пару ключей (`ssh-keygen`), копировать публичный ключ на сервер (`ssh-copy-id`).

3. **Конфигурационный файл SSH-клиента (`~/.ssh/config`):**
    
    - **Зачем:** Чтобы не запоминать IP-адреса, порты и логины для каждого сервера.
    
    - **Пример:**

```text
Host myserver
    HostName 192.168.1.100
    User admin
    Port 2222
    IdentityFile ~/.ssh/my_private_key
```

Теперь для подключения достаточно ввести `ssh myserver`.

1. **Безопасность SSH-сервера:**

    - Знание конфигурационного файла сервера (`/etc/ssh/sshd_config`).
    
    - Умение отключать аутентификацию по паролю (`PasswordAuthentication no`).
    
    - Умение запрещать вход пользователя root (`PermitRootLogin no`).
    
    - Умение менять стандартный порт (22) для усложнения жизни автоматическим сканерам.

2. **Передача файлов:**

    - `scp` (Secure Copy) для копирования файлов по SSH.
    
	     - `scp file.txt user@host:/path/to/destination`
    
    - `sftp` (Secure FTP) для интерактивной работы с файлами.

3. **Туннелирование (SSH Tunnels):**

    - Мощный механизм для безопасного доступа к сетевым сервисам, которые не шифруют свой трафик (например, база данных, веб-интерфейс).
    
    - **Пример (локальный туннель):** "Проброс" порта удаленной БД на localhost вашей машины: `ssh -L 3306:localhost:3306 user@dbserver`.

4. **Управление сессиями (`screen` / `tmux`):**

    - Хотя это не часть SSH, это критически важный навык. Эти утилиты позволяют запускать процессы в сессиях, которые продолжают работать после разрыва SSH-соединения. Вы можете отключиться, а потом снова подключиться и "вернуться" в свою сессию.


**Итог:** SSH — это краеугольный камень удаленного администрирования. Грамотное владение SSH, особенно аутентификацией по ключам и настройкой конфигов, — один из первых и самых важных признаков компетентного системного администратора.
