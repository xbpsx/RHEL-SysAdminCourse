- **Non-Login Shell** — как **пройти из прихожей в комнату** (уже внутри системы)

## **Non-Login Shell (НЕ-логин шелл)**

### **Что это?**

Это **дочерний сеанс оболочки**, запущенный **уже внутри работающей системы**.

### **Когда запускается?**

1. **Открытие нового окна терминала** в GUI (GNOME Terminal, Konsole)
    
2. **Запуск скрипта** (#!/bin/bash)
    
3. **`su` БЕЗ дефиса** (ваш случай: `su user2`)
    
4. **`bash`** (просто команда в терминале)
    
5. **Удалённое выполнение команд**: `ssh user@server 'command'`


### **Что выполняется:**

```bash
# 1. Глобальные настройки non-login
/etc/bash.bashrc    # В Debian/Ubuntu
# или
/etc/bashrc         # В RHEL/CentOS

# 2. Пользовательские настройки
~/.bashrc
```

### **Что обычно настраивают в .bashrc?**

- **Алиасы** (псевдонимы команд)
    
- **Функции шелла**
    
- **Настройки prompt** (PS1 - внешний вид командной строки)
    
- **Автодополнение**
    
- **Локальные переменные** (не экспортируемые)

### **Пример .bashrc:**

```bash
# Алиасы (только для этого шелла)
alias ll='ls -la'
alias ..='cd ..'

# Prompt
PS1='\u@\h:\w\$ '

# Функции
mkcd() { mkdir -p "$1" && cd "$1"; }

# Локальные переменные (не экспортируются)
local_var="только здесь"
```

## **Ключевые различия**

|Аспект|Login Shell|Non-Login Shell|
|---|---|---|
|**Когда**|При входе в систему|Внутри уже работающей системы|
|**Файлы**|`/etc/profile`, `~/.bash_profile`|`/etc/bash.bashrc`, `~/.bashrc`|
|**Переменные**|Экспортируются (наследуются)|Локальные (только для этого шелла)|
|**su**|`su - user` или `su --login user`|`su user` (БЕЗ дефиса)|
|**Цель**|Инициализация сессии|Работа в текущей сессии|

[[Практические примеры  loginshel и nonloginshell]]
