Для работы с текстовыми файлами нужен текстовой редактор. Самый популярный это `vi` , его современная реализация это `vim`, `emasc` и `nano`.

---
### Nano

Для изминения или создания файла

```bash
nano filename.txt
```

Включить нумерацию с опцией `-l`

```bash
nano -l filename.txt
```

**Постоянное включение** (добавить в конфиг)

Добавьте в файл `~/.nanorc`:

```bash
set linenumbers
```

**Часто используемые команды**

|Комбинация клавиш|Описание|
|---|---|
|`Ctrl + X`|**Выйти** из nano (с предложением сохранения)|
|`Ctrl + O`|**Сохранить** файл (Write Out)|
|`Ctrl + W`|**Поиск** текста в файле|
|`Ctrl + \`|**Поиск и замена** текста|
|`Ctrl + K`|**Вырезать** текущую строку|
|`Ctrl + U`|**Вставить** текст из буфера|
|`Ctrl + C`|Показать **позицию курсора**|
|`Ctrl + G`|Вызов **справки** (помощи)|
|`Ctrl + R`|Вставить содержимое **другого файла**|
|`Ctrl + _`|Перейти к **указанной строке**|

**Менее используемые команды**

| Комбинация клавиш | Описание                                   |
| ----------------- | ------------------------------------------ |
| `Ctrl + 6`        | Начать **выделение текста**                |
| `Alt + 6`         | **Копировать** выделенный текст            |
| `Alt + U`         | **Отменить** последнее действие            |
| `Alt + E`         | **Повторить** последнее действие           |
| `Ctrl + J`        | Выровнять текст (Justify)                  |
| `Ctrl + T`        | Проверить **орфографию**                   |
| `Alt + A`         | Включить/выключить **выделение текста**    |
| `Alt + ]`         | Закрыть открытую **скобку/кавычку**        |
| `Ctrl + L`        | **Обновить экран** (при сбоях отображения) |
| `Ctrl + Y`        | Перейти на **предыдущую страницу**         |
| `Ctrl + V`        | Перейти на **следующую страницу**          |
| `Alt + (`         | Перейти к **началу абзаца**                |
| `Alt + )`         | Перейти к **концу абзаца**                 |
**Советы для сисадмина**

- **Быстрый переход к ошибке**: Используйте `Ctrl + _` и номер строки из сообщения об ошибке

- **Поиск в конфигах**: `Ctrl + W` для быстрого поиска параметров

- **Работа с фрагментами**: `Ctrl + K` и `Ctrl + U` для перемещения блоков кода

- **Вставка файлов**: `Ctrl + R` полезно для включения других конфигурационных файлов

После того, как мы нашли строки с помощью `ctrl + w`, **ходить между вариантами** `alt + w`. Что-бы **перейти сразу на любую строчку** вводим в `ctrl + w`и потом сразу жмем  `ctrl + t` и номер строки. Что бы вырезать строку `ctrl + k` и чтоб вставить `ctrl + u`.

---
### Vi

 **Часто используемые команды (основные)**

В `vi` есть несколько режимов, **командный, ввода и режим последней строки**.

| Команда        | Режим           | Описание                        |
| -------------- | --------------- | ------------------------------- |
| `i`            | Normal → Insert | Войти в режим вставки           |
| `Esc`          | Insert → Normal | Выйти в нормальный режим        |
| `:w`           | Normal          | Сохранить файл (write)          |
| `:q`           | Normal          | Выйти из редактора (quit)       |
| `:wq` или `:x` | Normal          | Сохранить и выйти               |
| `:q!`          | Normal          | Выйти без сохранения            |
| `dd`           | Normal          | Удалить текущую строку          |
| `yy`           | Normal          | Скопировать текущую строку      |
| `p`            | Normal          | Вставить после курсора          |
| `/текст`       | Normal          | Поиск текста вперед             |
| `?текст`       | Normal          | Поиск текста назад              |
| `n`            | Normal          | Следующее совпадение при поиске |
| `u`            | Normal          | Отменить последнее действие     |
| `Ctrl + r`     | Normal          | Повторить отмененное действие   |
| `:set nu`      | Normal          | Включить нумерацию строк        |
| `:set nonu`    | Normal          | Выключить нумерацию строк       |

**Менее используемые команды (расширенные)**

|Команда|Режим|Описание|
|---|---|---|
|`:s/old/new/g`|Normal|Заменить все вхождения в строке|
|`:%s/old/new/g`|Normal|Заменить во всем файле|
|`v`|Normal → Visual|Войти в визуальный режим|
|`V`|Normal → Visual|Войти в визуальный режим по строкам|
|`Ctrl + v`|Normal → Visual|Войти в блочный визуальный режим|
|`:行号`|Normal|Перейти к указанной строке|
|`G`|Normal|Перейти к последней строке|
|`gg`|Normal|Перейти к первой строке|
|`0`|Normal|Перейти в начало строки|
|`$`|Normal|Перейти в конец строки|
|`:e filename`|Normal|Открыть другой файл|
|`:r filename`|Normal|Вставить содержимое файла|
|`:!команда`|Normal|Выполнить внешнюю команду|
|`Ctrl + g`|Normal|Показать информацию о файле|

**Постоянное включение нумерацию (добавить в конфиг)**

Добавьте в файл `~/.vimrc`:

```bash
set number
```

**Полезные конфиги для сисадмина:**

```
" Добавьте в ~/.vimrc для удобства
set number              " всегда показывать номера строк
set relativenumber      " относительная нумерация
syntax on               " подсветка синтаксиса
set tabstop=4           " размер табуляции
set expandtab           " заменять табы на пробелы
set autoindent          " автоотступы
```

