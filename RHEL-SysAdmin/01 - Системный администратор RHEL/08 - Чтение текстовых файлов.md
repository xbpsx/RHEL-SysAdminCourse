В текстовом интерфейсе **все есть текст**. Команды, файлы, устройства все, что угодно, в том числе это касается настроек и логов большинства программ которые **хранятся ввиде текстовых файлов**. Поэтому инструментов для работы с текстом в UNIX подобных систем множество. 

---
### Cat

Для работы с текстом, мы будем практиковаться в файле `/etc/passwd`, здесь хранится информация о пользователях в системе. для начала мы посмотрим содержимое этого файла с помощью команды `cat etc/passwd` 

```bash
cat etc/passwd
root:x:0:0:Super User:/root:/bin/bash
bin:x:1:1:bin:/bin:/usr/sbin/nologin
daemon:x:2:2:daemon:/sbin:/usr/sbin/nologin
vboxadd:x:974:1::/var/run/vboxadd:/usr/sbin/nologin
sshd:x:74:74:Privilege-separated SSH:/usr/share/empty.sshd:/usr/sbin/nologin
passim:x:973:973:Local Caching Server:/usr/share/empty:/usr/sbin/nologin
tcpdump:x:72:72:tcpdump:/:/usr/sbin/nologin
davidivashevich:x:1000:1000:David Ivashevich:/home/davidivashevich:/bin/bash
akmods:x:969:969:User is used by akmods to build akmod packages:/var/cache/akmods:/usr/sbin/nologin
```

Мы видим, что в терминале появилось много текста. Для прокрутки вверх мы используем **pgup и pgdown**. Команда `cat` подойдет, когда у нас есть относительно небольшой текстовой файл и нам нужно просто посмотреть его содержимое. Но команда `cat` может выводить,(обьеденять) несколько выводов например `cat file.txt file2.txt`

Еще `cat` может **пронумеровать строки** с помощью ключа `-n`, например 

```bash
cat -n  /etc/passwd  
    1  root:x:0:0:Super User:/root:/bin/bash  
    2  bin:x:1:1:bin:/bin:/usr/sbin/nologin  
    3  daemon:x:2:2:daemon:/sbin:/usr/sbin/nologin  
    4  adm:x:3:4:adm:/var/adm:/usr/sbin/nologin  
    5  lp:x:4:7:lp:/var/spool/lpd:/usr/sbin/nologin  
    6  sync:x:5:0:sync:/sbin:/bin/sync  
    7  shutdown:x:6:0:shutdown:/sbin:/sbin/shutdown  
    8  halt:x:7:0:halt:/sbin:/sbin/halt  
    9  mail:x:8:12:mail:/var/spool/mail:/usr/sbin/nologin  
   10  operator:x:11:0:operator:/root:/usr/sbin/nologin  
   11  games:x:12:100:games:/usr/games:/usr/sbin/nologin  
   12  ftp:x:14:50:FTP User:/var/ftp:/usr/sbin/nologin  
   13  nobody:x:65534:65534:Kernel Overflow User:/:/usr/sbin/nologin  
   14  dbus:x:81:81:System Message Bus:/:/usr/sbin/nologin
```

У команды `cat` есть противоположная команда `tac` которая выводит текст **реверсивно**, то есть с конца. 

---
### Less

Программа `cat` просто вывела содержимое на экран и все. Если у нас задача, прочесть большой файл, то нам больше подойдет программа читалка, например `less`,  такие программы обычно называют пейджерами. Стрелки вверх и вниз, пробел с помощью этого всего можно листать.

```bash
less /etc/passwd
```

Если ввести `/text` то `less` **поищет текст в файле**

![[Screenshot From 2025-11-23 15-15-23.png]]

А с помощью, `n/N` маленького и большого можно перейти на следующий или предыдущий вариант, что-бы выйти жмем просто `q`. Если нажать  `h`, то появится меню управление и гайд по их использованиюю.

---
### head и tail

Для просмотра больших файлов, обычно используют `head /etc/passwd` и `tail /etc/passwd`, они **показывают определенное количество строк** сначала или конца файла. По умолчанию, **они показывают 10 строк**, но можно указать что-то свое.

```bash
# 10 строк в начале
head /etc/passwd
root:x:0:0:Super User:/root:/bin/bash
bin:x:1:1:bin:/bin:/usr/sbin/nologin
daemon:x:2:2:daemon:/sbin:/usr/sbin/nologin
adm:x:3:4:adm:/var/adm:/usr/sbin/nologin
lp:x:4:7:lp:/var/spool/lpd:/usr/sbin/nologin
sync:x:5:0:sync:/sbin:/bin/sync
shutdown:x:6:0:shutdown:/sbin:/sbin/shutdown
halt:x:7:0:halt:/sbin:/sbin/halt
mail:x:8:12:mail:/var/spool/mail:/usr/sbin/nologin
operator:x:11:0:operator:/root:/usr/sbin/nologin

# 10 строк в конце
tail /etc/passwd
rpc:x:32:32:Rpcbind Daemon:/var/lib/rpcbind:/usr/sbin/nologin
dnsmasq:x:978:978:Dnsmasq DHCP and DNS server:/var/lib/dnsmasq:/usr/sbin/nologin
rpcuser:x:29:29:RPC Service User:/var/lib/nfs:/usr/sbin/nologin
gnome-remote-desktop:x:976:976:GNOME Remote Desktop:/var/lib/gnome-remote-desktop:/usr/sbin/nologin
vboxadd:x:974:1::/var/run/vboxadd:/usr/sbin/nologin
sshd:x:74:74:Privilege-separated SSH:/usr/share/empty.sshd:/usr/sbin/nologin
passim:x:973:973:Local Caching Server:/usr/share/empty:/usr/sbin/nologin
tcpdump:x:72:72:tcpdump:/:/usr/sbin/nologin
davidivashevich:x:1000:1000:David Ivashevich:/home/davidivashevich:/bin/bash
akmods:x:969:969:User is used by akmods to build akmod packages:/var/cache/akmods:/usr/sbin/nologin
```

Например, если добавить ключ `-3`, то **выведет первые 3 строки**

```bash
head -3 /etc/passwd  
root:x:0:0:Super User:/root:/bin/bash  
bin:x:1:1:bin:/bin:/usr/sbin/nologin  
daemon:x:2:2:daemon:/sbin:/usr/sbin/nologin
```

Еще `tail` может **читать с определенной строки**, допустим, все что ниже 35 строки.


```bash
tail -n +35 /etc/passwd  
rtkit:x:985:985:RealtimeKit:/:/usr/sbin/nologin  
pipewire:x:984:984:PipeWire System Daemon:/run/pipewire:/usr/sbin/nologin  
flatpak:x:982:982:Flatpak system helper:/:/usr/sbin/nologin  
geoclue:x:981:981:User for geoclue:/var/lib/geoclue:/sbin/nologin  
sssd:x:980:980:User for sssd:/run/sssd:/sbin/nologin  
colord:x:979:979:colord colour management daemon:/var/lib/colord:/usr/sbin/nologin  
gdm:x:42:42:GNOME Display Manager:/var/lib/gdm:/usr/sbin/nologin  
rpc:x:32:32:Rpcbind Daemon:/var/lib/rpcbind:/usr/sbin/nologin  
dnsmasq:x:978:978:Dnsmasq DHCP and DNS server:/var/lib/dnsmasq:/usr/sbin/nologin  
rpcuser:x:29:29:RPC Service User:/var/lib/nfs:/usr/sbin/nologin  
gnome-remote-desktop:x:976:976:GNOME Remote Desktop:/var/lib/gnome-remote-desktop:/usr/sbin/nol  
ogin  
vboxadd:x:974:1::/var/run/vboxadd:/usr/sbin/nologin  
sshd:x:74:74:Privilege-separated SSH:/usr/share/empty.sshd:/usr/sbin/nologin  
passim:x:973:973:Local Caching Server:/usr/share/empty:/usr/sbin/nologin  
tcpdump:x:72:72:tcpdump:/:/usr/sbin/nologin  
davidivashevich:x:1000:1000:David Ivashevich:/home/davidivashevich:/bin/bash  
akmods:x:969:969:User is used by akmods to build akmod packages:/var/cache/akmods:/usr/sbin/nol  
ogin  
```

Одна из самых используемых опций `tail` с ключом `-f` , может показать то, что добавляется в файл в реальном времени. 

```bash
tail -f /var/log/wtmp
```

> Это, часто используется **при решение проблем**, когда вы видите кучу логов и нам нужно понять, что именно происходит **при выполнение каких-то действий**.


Например выше, `tail -f /var/log/wtmp`  мы **запустили лог файл** в котором отоброжается, **о входах и выходах из системы**, обычно так не читают, но для теста подойдет. 

Когда текста много, не всегда понятно, что куда добавилось, поэтому, можно зажать `enter` и у нас появится пустое пространство. Мы отделяем файлы, чтоб лучше прочитать. Для выхода жмем `ctrl+c`

![[Screenshot From 2025-11-23 15-45-33.png]]

> Если нам нужно открыть конец файла и ждать появления новых строчек, в **случае чтению логов**, используем команду `tail -f file`

---

Одна из **лучших фишек команд** `less head tail`  то что они не пытаются прочесь **весь файл целиком**. 

Вы когда-нибудь пытались открыть текстовой файл на **100МБ**, а админ иногда сталкивается с файлами с размером **2ГБ**, иногда так бывает, вы пришли на работу, а там сервер не работает, смотришь, а там нет места на диске, там какой-то лог файл на десяток гб забил диск за одну ночь, такие ситуации по хорошему легко предотвратить, но речь о другом.

Обычно большие логи забиты одними и теме же строчками, то, достаточно вывести послдение 50 строк и понять, что там произашло.

---
### grep

`grep` позволяет нам искать строки текста по шаблону, например

```bash
grep bash /etc/passwd
```

Тут мы ищем пользователей которые пользуются, **интепретаором bash**

```bash
grep bash /etc/passwd  
root:x:0:0:Super User:/root:/bin/bash  
davidivashevich:x:1000:1000:David Ivashevich:/home/davidivashevich:/bin/bash  
davidivashevich@fedora:~$
```

С ключом `-n` мы увидим, все троки где есть **bash**

```bash
davidivashevich@fedora:~$  grep -n bash /etc/passwd
1:root:x:0:0:Super User:/root:/bin/bash
50:davidivashevich:x:1000:1000:David Ivashevich:/home/davidivashevich:/bin/bash
davidivashevich@fedora:~$ 
```

Мы можем **искать рекурсивно** с опцией `-r` , например мы можем найти все упоминания **bash** в директории **/etc**

```bash
grep -r bash /etc
```

Мы можем использовать ключ `-l` чтобы **просто вывести имена файлов** в которых встречается слово **bash**

```bash
grep -rl bash /etc
```








